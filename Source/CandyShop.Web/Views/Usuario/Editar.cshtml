@model  CandyShop.Application.ViewModels.UsuarioViewModel

@{
    Layout = null;
}

<link rel="stylesheet" href="../../Content/Usuario/formCadastroUsuario.css" />

<script type="text/javascript" src="../../Js/Usuario/scriptsEditarUsuario.js?d=@DateTime.Now.Ticks"></script>
<script>
    $(document).ready(function () {
        $('select').material_select();
        $('.cpf').each(function () {
            $(this).val(mcpf($(this).val()));
        });
    });

    function mcpf(v) {
        v = v.replace(/\D/g, "");
        v = v.replace(/(\d{3})(\d)/, "$1.$2");
        v = v.replace(/(\d{3})(\d)/, "$1.$2");
        v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
        return v;
    }
</script>

<div class="container">
    <div class="row">
        <form class="col s12">
            <div class="row">
                <div class="center">
                    <label for="fotoUsuario">
                        @{ string caminho = @Model.Cpf + ".jpg"; }
                        <img id="imagem" class="center tooltipped" data-position="bottom" data-delay="50" data-tooltip="Foto do usuário" src="@TempData["caminhoImagensUsuarios"]/@caminho?d=@DateTime.Now.Ticks" alt="imagem não disponível :(" />
                    </label>
                    <br/>
                    <br/>
                    <a class="btn" id="removerImagem"><i class="material-icons left">block</i>Remover</a>
                    <input id="fotoUsuario" type="file" class="file-path validate" style="display: none" accept="image/*">
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="Cpf" name="cpf" type="text" class="validate cpf" value="@Model.Cpf" required data-length="50" autocomplete="off" disabled>
                    <label class="active">CPF:</label>
                </div>
                <div class="input-field col s6">
                    <select name="Classificacao" id="Classificacao">
                        <option value="" disabled>Tipo da conta</option>
                        @if (Model.Classificacao == 'U'.ToString())
                        {
                            <option value="U" selected>Usuario</option>
                            <option value="A">Administrador</option>
                        }
                        else
                        {
                            <option value="U">Usuario</option>
                            <option value="A" selected>Administrador</option>
                        }
                    </select>
                    <label>Tipo de Usuário:</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="Nome" name="Nome" type="text" class="validate" required data-length="50" autocomplete="off" value="@Model.NomeUsuario" />
                    <label class="active">Nome:</label>
                </div>
                <div class="input-field col s6">
                    <input id="SaldoUsuario" name="SaldoUsuario" type="number" class="validate" value="@Model.SaldoUsuario" required="">
                    <label class="active">Saldo:</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="Password" name="Password" type="password" required data-length="12" autocomplete="off" class="validate" value="@Model.SenhaUsuario" />
                    <label class="active">Password:</label>
                </div>
                <div class="input-field col s6">
                    <select id="Ativo">
                        <option value="" disabled>Escolha uma opção</option>
                        <option value="A" @if (Convert.ToString(Model.Ativo) == "A") {<text>selected</text>} >Ativo</option>
                        <option value="I" @if (Convert.ToString(Model.Ativo) == "I") {<text>selected</text>} >Inativo</option>
                    </select>
                    <label>Status do usuário</label>
                </div>
            </div>
            <div class="row center">
                <a class="waves-effect waves-light btn-large botaoVoltar"><i class="material-icons left">arrow_back</i>Voltar</a>
                <a class="waves-effect waves-light btn-large botaoEditar"><i class="material-icons left">build</i>Editar</a>
            </div>
        </form>
    </div>
</div>


